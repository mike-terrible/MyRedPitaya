<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>U-boot , который собрали из исходников , не видит Ethernet</title>
<style type="text/css">
  body { color :#a90000; background-color :#c9c9c9; }
  header {
    width :95vw; text-align :center; font-weight :bold;
  }
  navigation {
  }
  main {
    display :block;
    width :95vw; height :90vh; overflow :auto; 
  }
  main a { display :block; padding :5px; text-decoration :none; }
  a:hover { background-color :#ffff00;  }
  p,pre,ul { color :#000000; }
  pre { background-color :White; }
</style>
</head>
<body>
<header>U-boot , который собрали из исходников , не видит Ethernet</header>
<main>
<p>
Допустим , что первые версии 2015 года даже не работали с Ethernet вообще.
U-boot , который видит Ethernet на Red Pitaya по команде ver показывает <b>2016.7</b>
<div style="background-color :Khaki; color :DarkRed">
Но та работающая сборка не понимает команд mii
</div>
<p>
Собственно на <a href="https://github.com/RedPitaya/u-boot-xlnx">https://github.com/RedPitaya/u-boot-xlnx</a> 
основных веток u-boot четыре или даже три. Последняя сборка за январь 2017 года - версия 
<a href="https://github.com/RedPitaya/u-boot-xlnx/archive/redpitaya-v2016.4.zip">redpitaya-v2016.4.zip</a>
</p>
<p>
Всё остальное на github у Xilinx. <a href="https://github.com/Xilinx/u-boot-xlnx">https://github.com/Xilinx/u-boot-xlnx</a>
</p>
<p>
последняя версия у Xilinx.
<a href="https://github.com/Xilinx/u-boot-xlnx/archive/xilinx-v2018.2.zip">u-boot-xilinx-v2018.2.zip</a>
</p>
<p>
Дёмин в обновленном проекте Red Pitaya Notes использует v2018.1 и предлагает туда патч , в котором вводится драйвер для PHY lantiq.c.
Также добавляется device tree для Red Pitaya и конфигурация для Red Pitaya zynq_red_pitaya_defconfig и соответствующий файл *.h для
include/configs. К сожалению патч для fsbl у него отсутствует. Ну а на Wiki Xilinx рекомендуют создавать fsbl в версии SDK и Vivado 
с тем же номером , что и версия U-boot.
</p>
<p>
Без "правильного fsbl" практически ничего не помогает. - т.е. можно пробовать "химичить" с деревом устройств , в т.ч. даже назначать
MAC-адрес для Ethernet. Всё равно по mii info оно там в регистрах будут одни нули.
</p>
</main>
</body>
</html>
